<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Pandoc WASM DOCX to HTML Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/styles.css" />
  </head>

  <body class="flex flex-col items-center justify-center min-h-[100dvh] w-[100dvw]">
    <header class="text-center w-full mt-10">
      <h1 class="lg:text-8xl text-5xl font-bold font-[WDXL_Lubrifont_TC]">.docx to .html converter</h1>
    </header>

    <dialog class="modal" id="instructions-modal">
      <div class="modal-box max-w-3xl">
        <h1 class="text-4xl font-bold mb-4">Instructions</h1>
        <p class="text-lg mb-2 text-left">This tool allows you to convert a .docx file to HTML using Pandoc WASM.</p>
        <ol class="list-decimal list-inside text-lg mb-4 text-left">
          <li>Click the "Choose File" button to select a .docx file from your computer.</li>
          <li>After selecting the file, the content will be automatically converted to HTML.</li>

          <li>Copy the HTML content from the text area for your use.</li>
        </ol>

        <div class="modal-action">
          <button
            class="btn active:scale-[97%] btn-ghost"
            id="dialog-btn"
            type="button"
            onclick="document.querySelector('dialog').close()"
          >
            OK
          </button>
        </div>
      </div>
    </dialog>

    <dialog class="modal" id="success-modal">
      <div class="modal-box max-w-3xl">
        <h1 class="text-4xl font-bold mb-4">Copied successfully!</h1>

        <div class="modal-action">
          <button
            class="btn active:scale-[97%] btn-ghost"
            id="dialog-btn"
            type="button"
            onclick="document.querySelector('#success-modal').close()"
          >
            OK
          </button>
        </div>
      </div>
    </dialog>

    <main class="md:w-9/12 w-11/12 text-center flex flex-col items-center justify-center">
      <div class="w-11/12 md:w-9/12 flex flex-col items-center justify-center mt-8">
        <form id="upload-form" class="space-y-3">
          <input type="file" id="upload" accept=".docx" class="file-input w-full" />
          <button
            type="button"
            id="instructions"
            class="btn active:scale-[97%] btn-neutral btn-soft w-full"
            onclick="document.querySelector('dialog').showModal()"
          >
            View Instructions
          </button>
          <button class="btn active:scale-[97%] w-full btn-neutral btn-soft disabled" id="form-convert" disabled>
            Convert
          </button>
        </form>

        <textarea
          id="output"
          cols="30"
          readonly
          resize="none"
          class="textarea hidden w-full h-64 textarea-sm mt-4 font-[IBM_Plex_Mono] text-left"
        ></textarea>

        <div id="btn-group" class="w-full mt-4 hidden flex-col items-center space-y-2">
          <div class="grid grid-cols-2 w-full">
            <button id="minify" class="btn btn-sm active:scale-[97%] mr-1 btn-neutral soft">Minify</button>
            <button id="beautify" class="btn btn-sm active:scale-[97%] ml-1 btn-neutral soft">Beautify</button>
          </div>
          <div class="grid grid-cols-2 w-full">
            <button id="copy" class="btn btn-sm active:scale-[97%] mr-1 btn-neutral soft">Copy HTML</button>
            <button id="download" class="btn active:scale-[97%] btn-sm ml-1 btn-neutral soft">Download HTML</button>
          </div>

          <div class="w-full">
            <button class="btn active:scale-[97%] btn-sm btn-neutral soft w-full" id="convert-another">
              Convert another file
            </button>
          </div>
        </div>
      </div>
    </main>
    <footer class="text-center mt-8">
      <p>Made by Jason Benoit and Aaron Po for the OER Design Studio at Fanshawe College.</p>

      <p>
        This project is open source and available on
        <a href="#" class="text-blue-500 hover:underline">GitHub</a>. It is licensed under the MIT License.
      </p>
    </footer>

    <script src="./src/script.ts" type="module"></script>
  </body>
</html>
